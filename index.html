<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Ghulam Murtaza ‚Äì ULTRA Video Editor</title>

<style>
body{margin:0;background:#0b0b0b;color:#fff;font-family:Arial}
header{background:#111;padding:10px;display:flex;gap:10px;align-items:center}
header h2{margin:0;font-size:18px}
header span{font-size:12px;color:#aaa}

.editor{display:flex;height:calc(100vh - 60px)}
.left{width:70%;padding:10px}
.right{width:30%;background:#131313;padding:10px;overflow:auto}

video,canvas{width:100%;background:#000;border-radius:8px}

.panel{background:#1a1a1a;padding:10px;margin-bottom:10px;border-radius:8px}
.panel h3{margin:0 0 6px;font-size:14px;color:#ff2c55}

button,input,select{
width:100%;margin-top:6px;padding:7px;
border:none;border-radius:6px;
background:#ff2c55;color:white;cursor:pointer
}
input[type=range]{background:none}

.timeline{background:#111;padding:6px;display:flex;gap:5px;overflow-x:auto}
.clip{background:#333;padding:6px 10px;border-radius:6px;font-size:12px}

@media(max-width:900px){
.editor{flex-direction:column}
.left,.right{width:100%}
}
</style>
</head>

<body>

<header>
<div>
<h2>Ghulam Murtaza</h2>
<span>ULTRA Video Editor ‚Äì PART 2</span>
</div>
</header>

<div class="editor">

<!-- PREVIEW -->
<div class="left">
<video id="video" controls></video>
<canvas id="canvas"></canvas>
<div class="timeline" id="timeline"></div>
</div>

<!-- CONTROLS -->
<div class="right">

<div class="panel">
<h3>üé¨ Video</h3>
<input type="file" id="videoFile" accept="video/*">
<button onclick="splitVideo()">Split At Time</button>
<button onclick="mergeInfo()">Merge Clips</button>
</div>

<div class="panel">
<h3>üé® Effects</h3>
<input type="range" id="blur" min="0" max="10" value="0">
<input type="range" id="zoom" min="1" max="2" step="0.01" value="1">
</div>

<div class="panel">
<h3>üé§ Voice Recording</h3>
<button onclick="startRec()">Start Recording</button>
<button onclick="stopRec()">Stop Recording</button>
</div>

<div class="panel">
<h3>‚úç Auto Subtitles</h3>
<button onclick="autoSub()">Generate (Demo)</button>
<div id="subs" style="font-size:12px;color:#ccc"></div>
</div>

<div class="panel">
<h3>‚Ü© History</h3>
<button onclick="undo()">Undo</button>
<button onclick="redo()">Redo</button>
</div>

<div class="panel">
<h3>üì§ Export</h3>
<select id="quality">
<option value="1">1080p</option>
<option value="1.5">2K</option>
<option value="2">4K (Demo)</option>
</select>
<button onclick="exportVideo()">Export</button>
</div>

</div>
</div>

<script>
const video=document.getElementById("video");
const canvas=document.getElementById("canvas");
const ctx=canvas.getContext("2d");
const timeline=document.getElementById("timeline");

let layers=[];
let history=[],redoStack=[];
let mediaRecorder,audioChunks=[];

videoFile.onchange=e=>{
video.src=URL.createObjectURL(e.target.files[0]);
addClip("Video");
save();
};

function addClip(name){
const d=document.createElement("div");
d.className="clip";
d.innerText=name;
timeline.appendChild(d);
}

function splitVideo(){
addClip("Split @ "+video.currentTime.toFixed(1));
alert("Split demo added on timeline");
save();
}

function mergeInfo(){
alert("Merge happens automatically on export");
}

blur.oninput=()=>save();
zoom.oninput=()=>save();

function draw(){
if(video.paused||video.ended)return;
canvas.width=video.videoWidth;
canvas.height=video.videoHeight;

ctx.filter=`blur(${blur.value}px)`;
ctx.drawImage(
video,
(canvas.width*(1-zoom.value))/2,
(canvas.height*(1-zoom.value))/2,
canvas.width*zoom.value,
canvas.height*zoom.value
);
ctx.filter="none";

requestAnimationFrame(draw);
}
video.onplay=draw;

/* VOICE RECORD */
async function startRec(){
const stream=await navigator.mediaDevices.getUserMedia({audio:true});
mediaRecorder=new MediaRecorder(stream);
mediaRecorder.start();
audioChunks=[];
mediaRecorder.ondataavailable=e=>audioChunks.push(e.data);
}

function stopRec(){
mediaRecorder.stop();
mediaRecorder.onstop=()=>{
const audioBlob=new Blob(audioChunks);
const audio=new Audio(URL.createObjectURL(audioBlob));
layers.push({type:"voice",audio});
addClip("Voice");
save();
};
}

/* AUTO SUBTITLE DEMO */
function autoSub(){
document.getElementById("subs").innerText=
"Hello world (demo subtitles generated)";
}

/* HISTORY */
function save(){
history.push(JSON.stringify({
blur:blur.value,
zoom:zoom.value,
layers
}));
redoStack=[];
}
function undo(){
if(history.length<2)return;
redoStack.push(history.pop());
load(history[history.length-1]);
}
function redo(){
if(!redoStack.length)return;
load(redoStack.pop());
}
function load(state){
const s=JSON.parse(state);
blur.value=s.blur;
zoom.value=s.zoom;
layers=s.layers;
}

/* EXPORT */
function exportVideo(){
alert("ULTRA Export Demo\nReal encoder PART-3");
}
</script>

</body>
</html>

